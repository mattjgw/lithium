(this.webpackJsonplithium=this.webpackJsonplithium||[]).push([[0],{184:function(e,a,t){},246:function(e,a){},247:function(e,a){},325:function(e,a,t){"use strict";t.r(a);var n=t(2),r=t(0),s=t.n(r),c=t(10),i=t.n(c),o=(t(184),t(49)),l=t(12),h=t(86),d=t(19),j=t(20),u=t(22),b=t(21),p=t(165),g=t(362),m=t(5),f=t(361),O=t(355),v=t(359),x=t(360),y=t(163),w=t.n(y),C=t(328),k=function(e){Object(u.a)(t,e);var a=Object(b.a)(t);function t(){var e;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).continue=function(a){a.preventDefault(),e.props.nextStep()},e.back=function(a){a.preventDefault(),e.props.prevStep()},e}return Object(j.a)(t,[{key:"render",value:function(){return Object(n.jsx)(O.a,{position:"static",color:"primary",children:Object(n.jsxs)(v.a,{children:[Object(n.jsx)(x.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(n.jsx)(w.a,{})}),Object(n.jsx)(C.a,{variant:"h6",children:"Lithium"}),Object(n.jsxs)("div",{style:{float:"right"},children:[Object(n.jsx)(f.a,{color:"inherit",children:"Home"}),Object(n.jsx)(f.a,{color:"inherit",children:"About"}),Object(n.jsx)(f.a,{color:"inherit",children:"My House Profile"}),Object(n.jsx)(o.b,{to:"/airtable",children:Object(n.jsx)(f.a,{color:"inherit",children:"Airtable Test"})})]})]})})}}]),t}(r.Component),U=t(39),S=t.n(U),F=t(40),N=t.n(F),z=t(374),W=t(363),q=t(372),T=t(364),D=t(368),_=Object(p.a)({palette:{primary:{main:S.a[50]},secondary:{main:N.a[800]}},spacing:8}),B=function(e){Object(u.a)(t,e);var a=Object(b.a)(t);function t(){var e;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).continue=function(a){a.preventDefault(),e.props.nextStep()},e}return Object(j.a)(t,[{key:"render",value:function(){var e=this.props,a=(e.values,e.handleChange),t=this.props.classes;return Object(n.jsxs)(g.a,{theme:_,children:[Object(n.jsx)(k,{}),Object(n.jsxs)(W.a,{className:t.shift,children:[Object(n.jsx)(C.a,{className:t.title,children:"Questionnaire"}),Object(n.jsx)(C.a,{className:t.subTitle,children:"Housing Information"}),Object(n.jsx)(C.a,{className:t.question,children:"What province/territory do you live in?"}),Object(n.jsx)("br",{}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)(q.a,{htmlFor:"age-native-simple"}),Object(n.jsxs)(D.a,{native:!0,onChange:a("location"),inputProps:{id:"age-native-simple"},children:[Object(n.jsx)("option",{"aria-label":"None",value:""}),Object(n.jsx)("option",{value:"ON",children:"Ontario"}),Object(n.jsx)("option",{value:"QC",children:"Quebec"}),Object(n.jsx)("option",{value:"MB",children:"Manitoba"}),Object(n.jsx)("option",{value:"SK",children:"Saskatchewan"}),Object(n.jsx)("option",{value:"AB",children:"Alberta"}),Object(n.jsx)("option",{value:"BC",children:"British Columbia"}),Object(n.jsx)("option",{value:"NL",children:"Newfoundland and Labrador"}),Object(n.jsx)("option",{value:"NS",children:"Nova Scotia"}),Object(n.jsx)("option",{value:"NB",children:"New Brunswick"}),Object(n.jsx)("option",{value:"PE",children:"Prince Edward Island"}),Object(n.jsx)("option",{value:"NU",children:"Nunavut"}),Object(n.jsx)("option",{value:"NT",children:"Northwest Territories"}),Object(n.jsx)("option",{value:"YT",children:"Yukon"})]})]}),Object(n.jsx)("br",{}),Object(n.jsx)(C.a,{className:t.question,children:"What is the square footage of your home?"}),Object(n.jsx)("br",{}),Object(n.jsx)(z.a,{className:t.textBox,placeholder:"Square Footage",type:"number",label:"Square Footage",onChange:a("squareFootage"),margin:"normal",fullWidth:!0}),Object(n.jsx)("br",{}),Object(n.jsx)(C.a,{className:t.question,children:"How many people live in your home?"}),Object(n.jsx)("br",{}),Object(n.jsx)(z.a,{className:t.textBox,placeholder:"Size of houshold",type:"number",label:"Size of houshold",onChange:a("numberOfPeopleInHousehold"),margin:"normal",fullWidth:!0}),Object(n.jsx)("br",{}),Object(n.jsx)(C.a,{className:t.question,children:"What is your average monthly power usage during the summer (kWh)?"}),Object(n.jsx)("br",{}),Object(n.jsx)(z.a,{className:t.textBox,placeholder:"Monthly usage",type:"number",label:"Monthly usage",onChange:a("summerUsage"),margin:"normal",fullWidth:!0}),Object(n.jsx)("br",{}),Object(n.jsx)(C.a,{className:t.question,children:"What is your average monthly power usage during the winter (kWh)?"}),Object(n.jsx)("br",{}),Object(n.jsx)(z.a,{className:t.textBox,placeholder:"Monthly usage",type:"number",label:"Monthly usage",onChange:a("winterUsage"),margin:"normal",fullWidth:!0}),Object(n.jsx)("br",{}),Object(n.jsx)(f.a,{color:"secondary",variant:"contained",onClick:this.continue,children:"Continue"})]})]})}}]),t}(r.Component),L=Object(m.a)({title:{height:80,fontFamily:"sans-serif",fontWeight:50,fontSize:32},subTitle:{height:60,fontFamily:"sans-serif",fontWeight:30,fontSize:24,color:"#2e7d32"},question:{height:0,fontFamily:"sans-serif",fontWeight:"bold",fontSize:18,marginTop:10},textBox:{width:300},options:{height:140},shift:{marginLeft:20,marginTop:20}})(B),I=t(367),P=t(370),A=Object(p.a)({palette:{primary:{main:S.a[50]},secondary:{main:N.a[800]}},spacing:8}),M=function(e){Object(u.a)(t,e);var a=Object(b.a)(t);function t(){var e;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).continue=function(a){a.preventDefault(),e.props.nextStep()},e.back=function(a){a.preventDefault(),e.props.prevStep()},e}return Object(j.a)(t,[{key:"render",value:function(){var e=this.props,a=e.values,t=e.handleCheckChange,r=e.handleFieldChange,s=this.props.classes;return Object(n.jsxs)(g.a,{theme:A,children:[Object(n.jsx)(k,{}),Object(n.jsxs)(W.a,{className:s.shift,children:[Object(n.jsx)(C.a,{className:s.title,children:"Questionnaire"}),Object(n.jsx)(C.a,{className:s.subTitle,children:"Appliance Information"}),Object(n.jsx)(C.a,{className:s.question,children:"Which of the following appliances do you own?"}),Object(n.jsx)(I.a,{control:Object(n.jsx)(P.a,{checked:a.dishwasher,onChange:t("dishwasher"),color:"secondary"}),label:"Dishwasher"}),!!a.dishwasher&&Object(n.jsx)(z.a,{className:s.quantity,id:"standard-number",label:"Quantity",type:"number",value:a.dishwasher,onChange:r("dishwasher"),InputLabelProps:{shrink:!0}}),Object(n.jsx)("br",{}),Object(n.jsx)(I.a,{control:Object(n.jsx)(P.a,{checked:a.stove,onChange:t("stove"),color:"secondary"}),label:"Electric Stove"}),!!a.stove&&Object(n.jsx)(z.a,{className:s.quantity,id:"standard-number",label:"Quantity",type:"number",value:a.stove,onChange:r("stove"),InputLabelProps:{shrink:!0}}),Object(n.jsx)("br",{}),Object(n.jsx)(I.a,{control:Object(n.jsx)(P.a,{checked:a.oven,onChange:t("oven"),color:"secondary"}),label:"Electric Oven"}),!!a.oven&&Object(n.jsx)(z.a,{className:s.quantity,id:"standard-number",label:"Quantity",type:"number",value:a.oven,onChange:r("oven"),InputLabelProps:{shrink:!0}}),Object(n.jsx)("br",{}),Object(n.jsx)(I.a,{control:Object(n.jsx)(P.a,{checked:a.fridge,onChange:t("fridge"),color:"secondary"}),label:"Refrigerator"}),!!a.fridge&&Object(n.jsx)(z.a,{className:s.quantity,id:"standard-number",label:"Quantity",type:"number",value:a.fridge,onChange:r("fridge"),InputLabelProps:{shrink:!0}}),Object(n.jsx)("br",{}),Object(n.jsx)(I.a,{control:Object(n.jsx)(P.a,{checked:a.freezer,onChange:t("freezer"),color:"secondary"}),label:"Freezer"}),!!a.freezer&&Object(n.jsx)(z.a,{className:s.quantity,id:"standard-number",label:"Quantity",type:"number",value:a.freezer,onChange:r("freezer"),InputLabelProps:{shrink:!0}}),Object(n.jsx)("br",{}),Object(n.jsx)(I.a,{control:Object(n.jsx)(P.a,{checked:a.washerDryer,onChange:t("washerDryer"),color:"secondary"}),label:"Washer/Dryer"}),Object(n.jsx)("br",{}),Object(n.jsx)(I.a,{control:Object(n.jsx)(P.a,{checked:a.heat,onChange:t("heat"),color:"secondary"}),label:"Electric heating"}),Object(n.jsx)("br",{}),Object(n.jsx)(I.a,{control:Object(n.jsx)(P.a,{checked:a.ac,onChange:t("ac"),color:"secondary"}),label:"Air Conditioning"}),!!a.ac&&Object(n.jsxs)(T.a,{className:s.windOrCentral,children:[Object(n.jsx)(q.a,{htmlFor:"age-native-simple",children:"Wind or Central?"}),Object(n.jsxs)(D.a,{style:{width:120},native:!0,label:"Wind or Central?",onChange:r("windOrCentral"),inputProps:{id:"age-native-simple"},children:[Object(n.jsx)("option",{value:0,children:"Central"}),Object(n.jsx)("option",{value:1,children:"Wind"})]})]}),"1"===a.windOrCentral&&!!a.ac&&Object(n.jsx)(z.a,{className:s.quantity,id:"standard-number",label:"Quantity",type:"number",value:a.windowUnits,onChange:r("windowUnits"),InputLabelProps:{shrink:!0}}),Object(n.jsx)("br",{}),Object(n.jsx)(I.a,{control:Object(n.jsx)(P.a,{checked:a.eeBulbs,onChange:t("eeBulbs"),color:"secondary"}),label:"Energy efficient light bulbs"}),Object(n.jsx)("br",{}),Object(n.jsxs)(W.a,{children:[Object(n.jsx)(f.a,{className:s.back,color:"primary",variant:"contained",onClick:this.back,children:"Back"}),Object(n.jsx)(f.a,{color:"secondary",variant:"contained",onClick:this.continue,children:"Continue"})]})]})]})}}]),t}(r.Component),E=Object(m.a)({buttons:{marginTop:60},title:{height:80,fontFamily:"sans-serif",fontWeight:50,fontSize:32},subTitle:{height:60,fontFamily:"sans-serif",fontWeight:30,fontSize:24,color:"#2e7d32"},question:{height:0,fontFamily:"sans-serif",fontWeight:"bold",fontSize:18,marginTop:10,marginBottom:20},textBox:{height:120,width:300},options:{height:140},shift:{height:1e3,marginLeft:20,marginTop:20},back:{marginTop:-10,marginRight:10},quantity:{width:40},windOrCentral:{width:150}})(M),Q=Object(p.a)({palette:{primary:{main:S.a[50]},secondary:{main:N.a[800]}},spacing:8}),H=function(e){Object(u.a)(t,e);var a=Object(b.a)(t);function t(){return Object(d.a)(this,t),a.apply(this,arguments)}return Object(j.a)(t,[{key:"render",value:function(){var e=this.props,a=e.usage,t=e.handleChange,r=e.applianceName,s=e.applianceKey,c=this.props.classes;return Object(n.jsxs)(g.a,{theme:Q,children:[Object(n.jsxs)(C.a,{className:c.question,children:["How many times do you use your ",r,"(s) per week?"]}),Object(n.jsx)(z.a,{id:"standard-number",label:"Number of uses",type:"number",value:a,onChange:t(s),InputLabelProps:{shrink:!0}}),Object(n.jsx)("br",{})]})}}]),t}(r.Component),K=Object(m.a)({question:{height:20,fontFamily:"sans-serif",fontWeight:"bold",fontSize:18,marginTop:10,marginBottom:20},textBox:{height:120,width:300},options:{height:140},shift:{marginLeft:20,marginTop:20},back:{marginTop:-10,marginRight:10}})(H),R=Object(p.a)({palette:{primary:{main:S.a[50]},secondary:{main:N.a[800]}},spacing:8}),Y=function(e){Object(u.a)(t,e);var a=Object(b.a)(t);function t(){var e;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).continue=function(a){a.preventDefault(),e.props.nextStep()},e.back=function(a){a.preventDefault(),e.props.prevStep()},e}return Object(j.a)(t,[{key:"render",value:function(){var e=this.props,a=e.values,t=e.handleChange,r=this.props.classes;return Object(n.jsxs)(g.a,{theme:R,children:[Object(n.jsx)(k,{}),Object(n.jsxs)(W.a,{className:r.shift,children:[Object(n.jsx)(C.a,{className:r.title,children:"Questionnaire"}),Object(n.jsx)(C.a,{className:r.subTitle,children:"Appliance Usage"}),!!a.dishwasher&&Object(n.jsx)(K,{applianceName:"dishwasher",applianceKey:"dishwasherUsage",handleChange:t,usage:a.dishwasherUsage}),!!a.stove&&Object(n.jsx)(K,{applianceName:"stove",applianceKey:"stoveUsage",handleChange:t,usage:a.stoveUsage}),!!a.oven&&Object(n.jsx)(K,{applianceName:"oven",applianceKey:"ovenUsage",handleChange:t,usage:a.ovenUsage}),!!a.washerDryer&&Object(n.jsx)(K,{applianceName:"washer",applianceKey:"washerUsage",handleChange:t,usage:a.washerUsage}),!!a.washerDryer&&Object(n.jsx)(K,{applianceName:"dryer",applianceKey:"dryerUsage",handleChange:t,usage:a.dryerUsage}),!!a.ac&&Object(n.jsx)(C.a,{className:r.question,children:"In the summer, how many days a month do you use your air conditioner?"}),!!a.ac&&Object(n.jsx)(z.a,{className:r.textBox,placeholder:"Days per month",label:"Days per month",onChange:t("acUsage"),margin:"normal",fullWidth:!0}),Object(n.jsxs)(W.a,{children:[Object(n.jsx)(f.a,{className:r.back,color:"primary",variant:"contained",onClick:this.back,children:"Back"}),Object(n.jsx)(f.a,{color:"secondary",variant:"contained",onClick:this.continue,children:"Continue"})]})]})]})}}]),t}(r.Component),J=Object(m.a)({buttons:{marginTop:60},title:{height:80,fontFamily:"sans-serif",fontWeight:50,fontSize:32},subTitle:{height:60,fontFamily:"sans-serif",fontWeight:30,fontSize:24,color:"#2e7d32"},question:{height:20,fontFamily:"sans-serif",fontWeight:"bold",fontSize:18,marginTop:10,marginBottom:20},textBox:{height:120,width:300},options:{height:140},shift:{marginLeft:20,marginTop:20},back:{marginTop:-10,marginRight:10}})(Y),G=t(371),V=(r.Component,function(e){Object(u.a)(t,e);var a=Object(b.a)(t);function t(){var e;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={step:1,location:"",squareFootage:0,numberOfPeopleInHousehold:0,summerUsage:0,winterUsage:0,dishwasher:0,stove:0,oven:0,fridge:0,freezer:0,washerDryer:0,heat:0,ac:0,dishwasherUsage:0,stoveUsage:0,ovenUsage:0,washerUsage:0,dryerUsage:0,acUsage:0,windOrCentral:0,windowUnits:0},e.nextStep=function(){var a=e.state.step;e.setState({step:a+1})},e.prevStep=function(){var a=e.state.step;e.setState({step:a-1})},e.handleFieldChange=function(a){return function(t){e.setState(Object(h.a)({},a,"number"===t.target.type?parseInt(t.target.value):t.target.value)),console.log(e.state)}},e.handleCheckChange=function(a){return function(t){0===e.state[a]?e.setState(Object(h.a)({},a,1)):e.setState(Object(h.a)({},a,0))}},e}return Object(j.a)(t,[{key:"render",value:function(){var e=this.state.step,a=this.state,t={priority:a.priority,location:a.location,squareFootage:a.squareFootage,monthlyUsage:a.monthlyUsage,dishwasher:a.dishwasher,stove:a.stove,oven:a.oven,fridge:a.fridge,freezer:a.freezer,washerDryer:a.washerDryer,ac:a.ac,heat:a.heat,dishwasherUsage:a.dishwasherUsage,stoveUsage:a.stoveUsage,ovenUsage:a.ovenUsage,secondFridge:a.secondFridge,secondFreezer:a.secondFreezer,washerUsage:a.washerUsage,dryerUsage:a.dryerUsage,acUsage:a.acUsage};switch(e){case 1:return Object(n.jsx)(L,{nextStep:this.nextStep,handleChange:this.handleFieldChange,values:t});case 2:return Object(n.jsx)(E,{nextStep:this.nextStep,prevStep:this.prevStep,handleCheckChange:this.handleCheckChange,handleFieldChange:this.handleFieldChange,values:t});case 3:return t.dishwasher||t.stove||t.washerDryer||t.ac||t.fridge||t.freezer?Object(n.jsx)(J,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleFieldChange,values:t}):Object(n.jsx)(o.b,{to:{pathname:"/performance",state:{response:this.state}},children:Object(n.jsx)(f.a,{color:"secondary",variant:"contained",onClick:this.continue,children:"Continue"})});case 4:return Object(n.jsx)(o.b,{to:{pathname:"/performance",state:{response:this.state}},children:Object(n.jsx)(f.a,{color:"secondary",variant:"contained",onClick:this.continue,children:"Get recommendations"})});default:console.log("This is a multi-step form built with React.")}}}]),t}(r.Component)),X=t(11),Z=t(164),$=t.n(Z),ee="keyr5CiCkrfKiYaEo",ae=function(){var e=Object(r.useState)([]),a=Object(X.a)(e,2),t=a[0],s=a[1];return Object(r.useEffect)((function(){new $.a({apiKey:ee}).base("appV6oQxcgRYsx3Wf")("Recipes").select().all().then((function(e){s(e)}))}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:ee}),Object(n.jsx)("pre",{children:JSON.stringify(t,null,2)})]})},te=t(67),ne=t(57),re=t.n(ne),se=(t(115),function(e){for(var a=e.data,t=e.axis,r=[["x"].concat(t)],s=0,c=Object.entries(a);s<c.length;s++){var i=Object(X.a)(c[s],2),o=i[0],l=i[1];r.push([o].concat(l))}for(var h=[],d=0;d<1440;d+=60)h.push(1e3*d*60);return Object(n.jsx)(re.a,{data:{x:"x",xFormat:"%H:%M:%S",columns:r,type:"area",groups:[Object(te.a)(Object.keys(a))],order:"desc"},interaction:{enabled:!1},transition:{duration:0},point:{show:!1},axis:{x:{type:"timeseries",localtime:!1,tick:{values:h,format:"%H"},padding:{left:0}},y:{min:0,padding:0}}})}),ce=t(28),ie=["dishwasher","stove","oven","washer","dryer","heat","ac","fridge","freezer","secondFridge","secondFreezer"],oe={dishwasher:1,stove:1,oven:.45,washer:.36,dryer:.25,heat:3,ac:1.5,fridge:40,freezer:5,secondFridge:40,secondFreezer:5},le={dishwasher:75,stove:12,oven:30,washer:55,dryer:75,heat:15,ac:120,fridge:12,freezer:10,secondFridge:12,secondFreezer:10},he={dishwasher:1140,stove:2e3,oven:3e3,washer:1200,dryer:5e3,heat:1e3,ac:1300,fridge:110,freezer:150,secondFridge:90,secondFreezer:80},de={short:15,medium:60,long:180};function je(e,a){var t,n=Object(te.a)(e.additionalDevices),r=Object(ce.a)(ie);try{for(r.s();!(t=r.n()).done;){var s=t.value;("ac"!==s||a.summer)&&("heat"===s&&a.summer||n.push({name:s,freq:oe[s],cycle_length:le[s],wattage:he[s],pattern:null}))}}catch(i){r.e(i)}finally{r.f()}for(var c=0;c<e.residents;c++)n.push({name:"lights".concat(c),freq:6,cycle_length:1,wattage:e.efficientLights?20:100,pattern:null});return n}function ue(e,a){var t,n=1440,r=Array(n).fill(0),s={},c=Object(ce.a)(e);try{for(c.s();!(t=c.n()).done;){s[t.value.name]=Object(te.a)(r)}}catch(m){c.e(m)}finally{c.f()}for(var i=function(e){var a,t={},n=Object(ce.a)(e);try{for(n.s();!(a=n.n()).done;)t[a.value.name]=0}catch(m){n.e(m)}finally{n.f()}return t}(e),o=0;o<n;o++){var l,h=Object(ce.a)(e);try{for(h.s();!(l=h.n()).done;){var d=l.value;if(i[d.name]>0)i[d.name]--,r[o]+=d.wattage,s[d.name][o]+=d.wattage;else{var j=d.freq/n;Math.random()<j&&(i[d.name]=d.cycle_length)}}}catch(m){h.e(m)}finally{h.f()}}var u=a/(r.reduce((function(e,a){return e+a}),0)/60);r=r.map((function(e){return e*u}));var b,p=Object(ce.a)(e);try{for(p.s();!(b=p.n()).done;){var g=b.value;s[g.name]=s[g.name].map((function(e){return e*u}))}}catch(m){p.e(m)}finally{p.f()}return{total_demand:r,device_demand:s}}function be(e,a){for(var t={peak_demand:0,total_demand:0},n=a.start;n<a.end;n++)t.total_demand+=e.total_demand[n]/60,t.peak_demand=Math.max(t.peak_demand,e.total_demand[n]);return t}var pe=function(){var e=Object(r.useState)({}),a=Object(X.a)(e,2),t=a[0],s=a[1],c=Object(r.useState)({}),i=Object(X.a)(c,2),o=i[0],l=i[1],h=Object(r.useState)([]),d=Object(X.a)(h,2),j=d[0],u=d[1],b=Object(r.useState)(!1),p=Object(X.a)(b,2),g=p[0],m=p[1];return Object(r.useEffect)((function(){var e={location:"Canada",squareFootage:450,residents:4,efficientLights:!0,monthlySummerUsage:600,monthlyWinterUsage:800,dishwasher:!0,stove:!0,oven:!0,washer:!0,dryer:!0,heat:!0,ac:!0,fridge:!0,freezer:!0,secondFridge:!0,secondFreezer:!0,dishwasherUsage:2,stoveUsage:2,ovenUsage:2,washerUsage:2,dryerUsage:2,acUsage:15,additionalDevices:[]},a={summer:!0},t=ue(je(e,a),1e3*(a.summer?e.monthlySummerUsage:e.monthlyWinterUsage)/30.5);s({total:t.total_demand}),l(t.device_demand),u(function(){for(var e=[],a=0;a<1440;a++)e.push(60*a*1e3);return e}()),console.log(be(t,{start:60,end:120}))}),[]),g?Object(n.jsxs)("div",{children:[Object(n.jsx)(se,{data:o,axis:j}),Object(n.jsx)(f.a,{variant:"contained",onClick:function(){return m(!1)},children:"Hide devices"})]},"show"):Object(n.jsxs)("div",{children:[Object(n.jsx)(se,{data:t,axis:j}),Object(n.jsx)(f.a,{variant:"contained",onClick:function(){return m(!0)},children:"Show devices"})]},"hide")},ge=function(e){var a=e.data,t=e.outages,r=Object.entries(a).map((function(e){var a=Object(X.a)(e,2),t=a[0],n=a[1];return[t].concat(n)}));return Object(n.jsx)(re.a,{data:{columns:r,type:"bar"},axis:{x:{label:{text:"Outage time period",position:"outer-center"},type:"category",categories:t},y:{label:{text:"Outages prevented",position:"outer-center"}}},bar:{width:{ratio:.5}}})},me=function(e){var a=e.data;return Object.entries(a).map((function(e){var a=Object(X.a)(e,2),t=a[0],r=a[1];return Object(n.jsx)(re.a,{data:{columns:[[t].concat(r)],type:"bar",color:function(e,a){return[null,"red","orange","yellow","green"][a.value]}},legend:{show:!1},bar:{width:{ratio:1}},size:{height:64}})}))};function fe(e,a,t){for(var n={},r=0,s=Object.entries(t);r<s.length;r++){var c=Object(X.a)(s[r],2),i=c[0],o=c[1];n[i]=[];var l,h=Object(ce.a)(a);try{for(h.s();!(l=h.n()).done;){var d=l.value,j=Math.floor(Math.random()*Math.floor(1440-o)),u=be(d,{start:j,end:j+o});u.peak_demand>e.peak_discharge&&u.total_demand>e.capacity?n[i].push(1):u.peak_demand>e.peak_discharge?n[i].push(2):u.total_demand>e.capacity?n[i].push(3):n[i].push(4)}}catch(b){h.e(b)}finally{h.f()}}return n}var Oe=function(e){var a={location:"Canada",squareFootage:450,residents:4,efficientLights:!0,monthlySummerUsage:600,monthlyWinterUsage:800,dishwasher:!0,stove:!0,oven:!0,washer:!0,dryer:!0,heat:!0,ac:!0,fridge:!0,freezer:!0,secondFridge:!0,secondFreezer:!0,dishwasherUsage:2,stoveUsage:2,ovenUsage:2,washerUsage:2,dryerUsage:2,acUsage:15,additionalDevices:[]},t=Object(r.useState)({}),s=Object(X.a)(t,2),c=s[0],i=s[1],o=Object(r.useState)({"6-6:15":{start:360,end:375},"11:30-11:45":{start:690,end:705},"20:45-21:00":{start:1245,end:1260},"6-6:45":{start:360,end:405},"11:30-12:15":{start:690,end:735},"20:45-21:30":{start:1245,end:1290},"6-9":{start:360,end:540},"11:30-14:30":{start:690,end:870},"20:45-23:45":{start:1245,end:1425}}),l=Object(X.a)(o,2),h=l[0],d=(l[1],Object(r.useState)([{name:"nothing",capacity:0,peak_discharge:0},{name:"sonnen eco small",capacity:5e3,peak_discharge:3e3},{name:"powerwall",capacity:8e3,peak_discharge:5e3}])),j=Object(X.a)(d,2),u=j[0],b=(j[1],Object(r.useState)((function(){for(var e=[],t=0;t<90;t++){var n=a,r={summer:!0},s=je(n,r),c=1e3*(r.summer?n.monthlySummerUsage:n.monthlyWinterUsage)/30.5;e.push(ue(s,c))}return e}))),p=Object(X.a)(b,2),g=p[0];p[1];return Object(r.useEffect)((function(){var e,a={},t=Object(ce.a)(u);try{for(t.s();!(e=t.n()).done;){var n=e.value;a[n.name]=[];for(var r=0,s=Object.entries(h);r<s.length;r++){var c,o=Object(X.a)(s[r],2),l=(o[0],o[1]),d=0,j=Object(ce.a)(g);try{for(j.s();!(c=j.n()).done;){var b=be(c.value,l);(n.capacity<b.total_demand||n.peak_discharge<b.peak_demand)&&d++}}catch(p){j.e(p)}finally{j.f()}a[n.name].push(30-d)}}}catch(p){t.e(p)}finally{t.f()}i(a)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Outages prevented (out of 30) per recommendation and outage type"}),Object(n.jsx)(ge,{data:c,outages:Object.keys(h)}),u.map((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h3",{children:["Recommendation ",e.name]}),Object(n.jsx)(me,{data:fe(e,g,de)})]})}))]})},ve=function(){var e=Object(r.useState)(!1),a=Object(X.a)(e,2),t=a[0],s=a[1];return Object(r.useEffect)((function(){for(var e=new Date,a=0;a<20;a++){var t={location:"Canada",squareFootage:450,residents:4,efficientLights:!0,monthlySummerUsage:600,monthlyWinterUsage:800,dishwasher:!0,stove:!0,oven:!0,washer:!0,dryer:!0,heat:!0,ac:!0,fridge:!0,freezer:!0,secondFridge:!0,secondFreezer:!0,dishwasherUsage:2,stoveUsage:2,ovenUsage:2,washerUsage:2,dryerUsage:2,acUsage:15,additionalDevices:[]},n={summer:!0};ue(je(t,n),1e3*(n.summer?t.monthlySummerUsage:t.monthlyWinterUsage)/30.5)}s((new Date).getTime()-e.getTime())}),[]),Object(n.jsxs)("div",{children:[t,"ms to generate 20 models"]})},xe=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(o.a,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:V}),Object(n.jsx)(l.a,{path:"/airtable",component:ae}),Object(n.jsx)(l.a,{path:"/graph",component:pe}),Object(n.jsx)(l.a,{path:"/simulator",component:ve}),Object(n.jsx)(l.a,{path:"/performance",component:Oe})]})})})},ye=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,376)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,s=a.getLCP,c=a.getTTFB;t(e),n(e),r(e),s(e),c(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(xe,{})}),document.getElementById("root")),ye()}},[[325,1,2]]]);
//# sourceMappingURL=main.41f0153a.chunk.js.map